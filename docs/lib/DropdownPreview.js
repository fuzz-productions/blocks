!function i(s,a,c){function l(t,e){if(!a[t]){if(!s[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(p)return p(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var r=a[t]={exports:{}};s[t][0].call(r.exports,function(e){return l(s[t][1][e]||e)},r,r.exports,i,s,a,c)}return a[t].exports}for(var p="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({1:[function(e,t,n){"use strict";var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();var r=e("react"),i=e("react-dom"),s=e("./common/getPreviewComponent.jsx"),a=e("../../react/dropdowns/Dropdown.jsx"),c=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={currentValue:""},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.Component),o(n,[{key:"render",value:function(){var t=this;return r.createElement("div",{className:"l-flex-vertical"},r.createElement("div",{className:"l-flex-horizontal"},s("Default",r.createElement(a,{text:"Choose an option",value:this.state.currentValue,onChange:function(e){return t.setState({currentValue:e.value})},options:[{value:"option1",text:"One option"},{value:"option2",text:"Another option",href:"#"},{value:"option3",text:"Best option"},{value:"option4",element:r.createElement("button",null,r.createElement("span",{className:"blx-icon blx-icon-plus"}),"Custom element"),key:"option4"}]}))),r.createElement("div",{className:"l-flex-horizontal"},s("Disabled",r.createElement(a,{text:"Choose an option",isDisabled:!0,options:[{value:"option1",text:"One option"},{value:"option2",text:"Another option"},{value:"option3",text:"Best option"}]}))))}}]),n}(),l=document.getElementById("react-preview");i.render(r.createElement(c,null),l)},{"../../react/dropdowns/Dropdown.jsx":3,"./common/getPreviewComponent.jsx":2,react:"react","react-dom":"react-dom"}],2:[function(e,t,n){"use strict";var o=e("react");t.exports=function(e,t){return[o.createElement("span",{className:"doc-state-title blx-caption",key:e},e),o.createElement("div",{className:"doc-state-content",key:e+"-component"},t)]}},{react:"react"}],3:[function(e,t,n){"use strict";var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();var r=e("react"),i=e("prop-types"),s=(e("react-dom"),e("../wrappers/closeOnClick.jsx")),a=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={onFocusIdx:-1},t.optionsRefs=[],t.onKeyDown=t.onKeyDown.bind(t),t.onKeyUp=t.onKeyUp.bind(t),t.setOptionNode=t.setOptionNode.bind(t),t.moveFocusUsingKey=t.moveFocusUsingKey.bind(t),t.getFocusIndexAfterKeyPress=t.getFocusIndexAfterKeyPress.bind(t),t.focusOption=t.focusOption.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.Component),o(n,[{key:"onSelect",value:function(e){this.props.onChange&&this.props.onChange(e),this.props.close()}},{key:"onKeyDown",value:function(e){-1<["ArrowDown","ArrowUp","Tab","Enter","Space"].indexOf(e.key)&&e.preventDefault(),"ArrowDown"!==e.key||this.props.isOpen||this.props.open(),this.moveFocusUsingKey(e.key)}},{key:"onKeyUp",value:function(e,t){-1<["Enter","Space"].indexOf(e.key)?this.onSelect(t):"Escape"===e.key&&this.props.close()}},{key:"setOptionNode",value:function(e,t){var n=this;if(e){this.optionsRefs[t]=e;for(var o=0;o<this.optionsRefs[t].childNodes.length;o++){var r=this.optionsRefs[t].childNodes[o];if("function"==typeof r.focus){r.addEventListener("keydown",this.onKeyDown),r.addEventListener("keyup",function(e){return n.onKeyUp(e,n.props.options[t])}),r.addEventListener("click",function(){return n.onSelect(n.props.options[t])});break}}}}},{key:"moveFocusUsingKey",value:function(e){var t=this;this.setState({onFocusIdx:this.getFocusIndexAfterKeyPress(e)},function(){return t.focusOption(t.state.onFocusIdx)})}},{key:"getFocusIndexAfterKeyPress",value:function(e){return"ArrowDown"===e?Math.min(this.state.onFocusIdx+1,this.props.options.length-1):"ArrowUp"===e?Math.max(this.state.onFocusIdx-1,0):"Tab"!==e?this.state.onFocusIdx:this.state.onFocusIdx===this.props.options.length-1?0:this.state.onFocusIdx+1}},{key:"focusOption",value:function(e){var t=this.optionsRefs[e];if(t)for(var n=0;n<t.childNodes.length;n++){var o=t.childNodes[n];if("function"==typeof o.focus){o.focus();break}}}},{key:"getOptionTrigger",value:function(){var e=this,t=this.props.text;if(this.props.value)for(var n=0;n<this.props.options.length;n++){var o=this.props.options[n];if(o.value==this.props.value){o.text?t=o.text:o.element&&(t=null);break}}return r.createElement("button",{className:"blx-dropdown-trigger "+(this.props.isOpen?"blx-active":"")+" "+(this.props.isDisabled?"blx-disabled":"")+" "+(this.props.value?"":"blx-dropdown-trigger-placeholder"),disabled:this.props.isDisabled,onClick:this.props.toggle,title:t,autoFocus:this.props.autoFocus,onKeyDown:this.onKeyDown,onFocus:function(){return e.setState({onFocusIdx:-1})}},t)}},{key:"render",value:function(){var o=this;return r.createElement("div",{className:"blx-dropdown-wrapper"},r.createElement("div",{className:"blx-dropdown"},this.props.description&&r.createElement("div",null,r.createElement("label",{className:"blx-ui-text"},this.props.description)),this.getOptionTrigger(),r.createElement("ul",{className:"blx-dropdown-menu "+(this.props.isOpen?"":"blx-hidden")},this.props.options.map(function(e,t){var n=null;return n=e.element?e.element:e.href?r.createElement("a",{href:e.href,disabled:e.disabled},e.text):r.createElement("button",{disabled:e.disabled},e.text),r.createElement("li",{key:e.text||e.key,className:"blx-dropdown-item "+(e.disabled?"blx-disabled":""),ref:function(e){return o.setOptionNode(e,t)}},n)}))))}}]),n}();a.propTypes={isOpen:i.bool,toggle:i.func.isRequired,close:i.func.isRequired,text:i.string,description:i.string,value:i.oneOfType([i.string,i.number]),options:i.arrayOf(i.shape({text:i.oneOfType([i.string,i.number]),disabled:i.bool,value:i.oneOfType([i.string,i.number]),href:i.string,element:i.node,key:i.string})),isDisabled:i.bool,onChange:i.func,autoFocus:i.bool},a.defaultProps={isOpen:!1,options:[],text:"Choose an option",description:"",value:null,onChange:function(){},autoFocus:!1},t.exports=s(a)},{"../wrappers/closeOnClick.jsx":4,"prop-types":"prop-types",react:"react","react-dom":"react-dom"}],4:[function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();var s=e("react"),a=e("prop-types");t.exports=function(o){var e=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={isOpen:!!e.isOpen},t.open=t.open.bind(t),t.close=t.close.bind(t),t.toggle=t.toggle.bind(t),t.closeOnClick=t.closeOnClick.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.Component),i(n,[{key:"componentDidMount",value:function(){document.body.addEventListener("click",this.closeOnClick)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("click",this.closeOnClick)}},{key:"open",value:function(){this.setState({isOpen:!0})}},{key:"close",value:function(){this.setState({isOpen:!1})}},{key:"toggle",value:function(){this.state.isOpen?this.close():this.open()}},{key:"closeOnClick",value:function(e){this.domElement&&(e.target===this.domElement||this.domElement.contains(e.target)||(this.close(),this.props.afterCloseOnClick&&this.props.afterCloseOnClick()))}},{key:"render",value:function(){var t=this;return s.createElement("div",{ref:function(e){t.domElement=e}},s.createElement(o,r({},this.props,this.state,{isOpen:this.state.isOpen,toggle:this.toggle,open:this.open,close:this.close})))}}]),n}();return e.propTypes={isOpen:a.bool,afterCloseOnClick:a.func},e.defaultProps={isOpen:!1,afterCloseOnClick:null},e}},{"prop-types":"prop-types",react:"react"}]},{},[1]);